<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AJO client-side sample</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="icon" href="https://wwwimages2.adobe.com/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="script.js"></script>

  <script>
    !function(n,o){o.forEach(function(o){n[o]||((n.__alloyNS=n.__alloyNS||
      []).push(o),n[o]=function(){var u=arguments;return new Promise(
      function(i,l){n[o].q.push([i,l,u])})},n[o].q=[])})}
    (window,["alloy"]);

    alloy("configure", {
      defaultConsent: "in",
      edgeDomain: "{{edgeDomain}}",
      edgeConfigId: "{{edgeConfigId}}",
      orgId:"{{orgId}}",
      debugEnabled: false,
      thirdPartyCookiesEnabled: false,
      autoCollectPropositionInteractions: {
        AJO: "always",
        TGT: "never"
      },
    });

    const demoSurfaceUris = '{{demoSurfaceUri}}'.split(',');
    const demoSurfaceNames = '{{demoSurfaceName}}'.split(',').reduce((surfaces, surfaceName) => {
      demoSurfaceUris.forEach(demoSurfaceUri => surfaces.push(demoSurfaceUri.concat(surfaceName)));
      return surfaces;
    }, []);

    const applyPersonalization = createApplyPersonalization(demoSurfaceNames);

    alloy("sendEvent",
      {
        "renderDecisions": true,
        personalization: {
          surfaces: demoSurfaceNames,
          sendDisplayEvent: false
        }
      }
    ).then(applyPersonalization).catch(displayError);

    setTimeout(() => {
      alloy("sendEvent", {
        type: "web.webpagedetails.pageViews",
        personalization: {
          includeRenderedPropositions: true,
        },
      });
    }, 500);
  </script>
   <script src="alloy.min.js"></script>
<!--   <script  src="https://cdn1.adoberesources.net/alloy/2.19.2/alloy.min.js"></script>-->
</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Web Site</a>
    </div>
    <div id="navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li class="active"><a href="/">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</nav>
<div id="main-container" class="container">
  <div class="page-header">
    <h1>Hello World!</h1>
  </div>
  <img
    id="ajo-decision"
    src="img/demo-marketing-decision1-default.webp"
    width="640"
    alt="ajo decision"
    class="img-responsive img-rounded ajo-decision"
  />
  <p id="paragraph-text-1" class="lead">
    This is a sample web page. It leverages the
    <a
      href="https://experienceleague.adobe.com/docs/experience-platform/edge/home.html"
    >Adobe Experience Platform Web SDK</a
    >
    and
    <a
      href="https://experienceleague.adobe.com/docs/experience-platform/edge-network-server-api/overview.html"
    >APIs</a
    >
    to render personalization content.
  </p>
  <p id="paragraph-text-2">
    Vestibulum cursus tristique risus, volutpat lobortis quam fermentum dapibus.
    Sed lacus augue, vulputate a placerat vel, fringilla sed velit. In aliquet
    odio ut efficitur gravida. Vivamus volutpat hendrerit nisl ut rutrum. Donec
    id nunc dolor. Pellentesque lectus mi, consequat sit amet elit vitae,
    laoreet euismod est. Cras placerat ex ligula, nec malesuada dolor feugiat
    ut. Ut condimentum ante turpis, a iaculis massa cursus vitae. Sed sed felis
    quam. Sed hendrerit, nisl vel viverra viverra, nisi mauris laoreet tortor,
    ut blandit lectus lacus ut tellus. Integer ante sapien, tincidunt ut erat
    id, volutpat finibus urna. Aliquam rhoncus tellus vitae facilisis varius.
  </p>
  <div id="some-buttons">
    <button
      id="action-button-1"
      data-id="1"
      type="button"
      class="btn btn-primary"
    >
      One
    </button>
    <button
      id="action-button-2"
      data-id="2"
      type="button"
      class="btn btn-success"
    >
      Two
    </button>
    <button id="action-button-3" data-id="3" type="button" class="btn btn-info">
      Three
    </button>
  </div>
</div>
</body>
</html>
